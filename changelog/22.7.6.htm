<p>Dear all,</p><p>This update fixes CRL code handling with third party software and sandboxes the code to avoid dealing with boot-time issues ever again.  However, due to the nature of the sandboxing no automatic fix can be made for the following case:</p><p>Creating and using an empty CRL in OpenVPN broke in 22.7.5 due to an ancient bug not populating the empty CRL in binary format: the side effect "correcting" this at runtime was removed.  22.7.6 will now correctly populate the binary format of the empty CRL upon creation in the config.xml as originally intended.</p><p>The options to manually fix existing empty CRLs are as follows:</p><p><ul><li>Remove the CRL from OpenVPN as it is unused anyway, or</li><li>Add a dummy certificate to it to populate the CRL properly, or</li><li>Add and remove a random existing certificate to populate an empty CRL.</li></ul></p><p>These fixes can be carried out on older installation without a problem as well prior to upgrading to avoid OpenVPN from not working post-upgrade.</p><p>Here are the full patch notes:</p><p><ul><li>system: fix inconsistent is_crl_internal() implementation</li><li>system: make sure we always generate a CRL when saved</li><li>system: sandbox code handling CRL manipulation in the CRL manager page</li><li>system: wrap global product information handling into a singleton</li><li>system: move get_nameservers() to ifctl use</li><li>reporting: traffic graph polling interval selection and UX tweaks</li><li>interfaces: port 6RD/6to4 to ifctl use</li><li>interfaces: optionally use reverse DNS resolution for ARP table hostnames (contributed by soif)</li><li>interfaces: allow user-configurable VLAN device names with certain restrictions[<a target="_blank" href="https://github.com/opnsense/core/issues/6038">1</a>]</li><li>interfaces: small cleanup on get_real_interface()</li><li>firewall: simplify port forward rule logic for delete and toggle and make sure to toggle firewall rule as well</li><li>firewall: various performance and usability improvements in live log</li><li>firewall: extend all firewall rules with a UUID to align with MVC code upon edit</li><li>firmware: display license validity when applicable in business edition</li><li>ipsec: ACL fix for sessions users</li><li>unbound: support setting type value for DNS over TLS/Query Forwarding API (contributed by kulikov-a)</li><li>unbound: convert advanced settings to MVC/API</li><li>mvc: remove "clear all", "copy" and "paste" options when only a single entry is allowed</li><li>mvc: fix typo in searchRecordsetBase()</li><li>ports: isc-dhcp 4.4.3P1[<a target="_blank" href="https://downloads.isc.org/isc/dhcp/4.4.3-P1/dhcp-4.4.3-P1-RELNOTES">2</a>]</li><li>ports: phalcon 5.0.3[<a target="_blank" href="https://github.com/phalcon/cphalcon/releases/tag/v5.0.3">3</a>]</li><li>ports: php 8.0.24[<a target="_blank" href="https://www.php.net/ChangeLog-8.php#8.0.24">4</a>]</li><li>ports: squid no-forgery patch fix</li><li>ports: strongswan 5.9.8[<a target="_blank" href="https://github.com/strongswan/strongswan/releases/tag/5.9.8">5</a>]</li></ul></p><p><br>Stay safe,<br> Your OPNsense team</p>