<p>Hello,</p><p>We replaced the packet capture tool with a MVC/API rewrite and updated most plugins to use the new setup script facility when doing a start/restart/reload through the RC system.</p><p>A number of FreeBSD kernel improvements have been included as well.</p><p>Although OpenSSL is being updated keep in mind that the current popular vulnerability only exists in version 3 and we still use 1.1.1.</p><p>Here are the full patch notes:</p><p><ul><li>system: fix getOID() call for phpseclib 3 while processing CSR</li><li>system: avoid error on installer user creation</li><li>system: show booting banner on dashboard</li><li>interfaces: show attached interface for VLAN device in overview</li><li>interfaces: packet capture MVC/API replacement</li><li>interfaces: fix ARP table name resolve backend issue (contributed by soif)</li><li>firewall: off-by-one in regex for target port range parse</li><li>firewall: support Maxmind unclassified "EU" as selectable country</li><li>firewall: fix possible race condition when changing limit in live log</li><li>firewall: fix sorting bug in aliases list</li><li>firewall: allow the use of "dynamic" interface types in shaper, e.g. IPsec devices</li><li>dnsmasq: remove expired root trust anchor (contributed by Johnny S. Lee)</li><li>firmware: always fetch the signature file to avoid signature issues after upgrades</li><li>firmware: use effective ABI in changelog fetch</li><li>firmware: ignore automatic business plugin and license hint</li><li>intrusion detection: missing OPNsense categories</li><li>ipsec: missing return in controller</li><li>openvpn: use ifctl in link up/down scripts</li><li>unbound: move the removal of pluggable files above the configuration check</li><li>unbound: remove 127/8 from private-address block when rebind protection is enabled</li><li>unbound: make the default private-address items configurable via the advanced page</li><li>unbound: fix possible error while opening DoT page</li><li>mvc: when multiple validation messages are returned wrap each message in a div tag</li><li>mvc: prevent UserExceptions to end up in the crash reporter</li><li>mvc: translate a base field error</li><li>backend: wait 1 second for configd socket to become available</li><li>console: store UUID for VLAN device</li><li>rc: remove obsolete NAME_var_script and NAME_var_mfs support</li><li>plugins: migrate all plugins to NAME_setup script use</li><li>plugins: $verbose argument in plugins_run() is spurious</li><li>plugins: os-acme-client 3.14[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.7/security/acme-client/pkg-descr">1</a>]</li><li>plugins: os-apcupsd 1.1[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.7/sysutils/apcupsd/pkg-descr">2</a>]</li><li>plugins: os-frr 1.31[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.7/net/frr/pkg-descr">3</a>]</li><li>plugins: os-haproxy 3.12[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.7/net/haproxy/pkg-descr">4</a>]</li><li>plugins: os-maltrail 1.10[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.7/security/maltrail/pkg-descr">5</a>]</li><li>plugins: os-openconnect 1.4.3[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.7/security/openconnect/pkg-descr">6</a>]</li><li>plugins: os-telegraf 1.12.6[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.7/net-mgmt/telegraf/pkg-descr">7</a>]</li><li>plugins: os-tor 1.9 enables hardware acceleration (contributed by haarp)</li><li>plugins: os-wireguard 1.13[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.7/net/wireguard/pkg-descr">8</a>]</li><li>src: revert "e1000: try auto-negotiation for fixed 100 or 10 configuration"</li><li>src: vxlan: check the size of data available in mbuf before using them</li><li>src: vm_page: fix a logic error in the handling of PQ_ACTIVE operations[<a target="_blank" href="https://www.freebsd.org/security/advisories/FreeBSD-EN-22:23.vm.asc">9</a>]</li><li>src: cam: provide compatibility for CAMGETPASSTHRU for periph drivers[<a target="_blank" href="https://www.freebsd.org/security/advisories/FreeBSD-EN-22:26.cam.asc">10</a>]</li><li>src: loader: fix elf lookup_symbol type filtering[<a target="_blank" href="https://www.freebsd.org/security/advisories/FreeBSD-EN-22:27.loader.asc">11</a>]</li><li>src: zfs: fix a pair of bugs in zfs_fhtovp()[<a target="_blank" href="https://www.freebsd.org/security/advisories/FreeBSD-EN-22:24.zfs.asc">12</a>]</li><li>src: zfs: fix use-after-free in btree code[<a target="_blank" href="https://www.freebsd.org/security/advisories/FreeBSD-EN-22:21.zfs.asc">13</a>]</li><li>src: tcp: finish SACK loss recovery on sudden lack of SACK blocks[<a target="_blank" href="https://www.freebsd.org/security/advisories/FreeBSD-EN-22:25.tcp.asc">14</a>]</li><li>src: igc: remove unnecessary PHY ID checks</li><li>src: ixl: add support for I710 devices and remove non-inclusive language</li><li>src: ixl: fix SR-IOV panics</li><li>src: rc: run NAME_setup before RC_ARG_precmd</li><li>src: u3g: add more USB IDs</li><li>ports: libxml 2.10.3[<a target="_blank" href="http://www.xmlsoft.org/news.html">15</a>]</li><li>ports: nss 3.84[<a target="_blank" href="https://firefox-source-docs.mozilla.org/security/nss/releases/nss_3_84.html">16</a>]</li><li>ports: openssl 1.1.1s[<a target="_blank" href="https://www.openssl.org/news/openssl-1.1.1-notes.html">17</a>]</li><li>ports: openvpn 2.5.8[<a target="_blank" href="https://community.openvpn.net/openvpn/wiki/ChangesInOpenvpn25#Changesin2.5.8">18</a>]</li><li>ports: phalcon 5.1.0[<a target="_blank" href="https://github.com/phalcon/cphalcon/releases/tag/v5.1.0">19</a>]</li><li>ports: php 8.0.25[<a target="_blank" href="https://www.php.net/ChangeLog-8.php#8.0.25">20</a>]</li><li>ports: python 3.9.15[<a target="_blank" href="https://docs.python.org/release/3.9.15/whatsnew/changelog.html">21</a>]</li><li>ports: sudo 1.9.12[<a target="_blank" href="https://www.sudo.ws/stable.html#1.9.12">22</a>]</li><li>ports: unbound 1.17.0[<a target="_blank" href="https://nlnetlabs.nl/projects/unbound/download/#unbound-1-17-0">23</a>]</li></ul></p><p>A hotfix release was issued as 22.7.7_1:</p><p><ul><li>openvpn: ifctl requires interface to operate</li></ul></p><p><br>Stay safe,<br> Your OPNsense team</p>