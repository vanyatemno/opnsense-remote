<p>Good morning/afternoon/evening,</p><p>The first stable release brings in minor fixes from FreeBSD and instant log file visibility for files without severity written which can happen for individual plugins.</p><p>We have also gone ahead to restructure the interface code further to resolve dependencies between configured devices and interfaces automatically and the bundled development version is worth a try for everyone having issues with GIF/GRE not coming up after boot.</p><p>Here are the full patch notes:</p><p><ul><li>system: changing interface gateway was ignored during route reconfiguration</li><li>system: allow to configure SSH setting PubkeyAcceptedAlgorithms (contributed by Manuel Faux)</li><li>system: add backward compatibility for reading logs without severity by default (contributed by kulikov-a)</li><li>system: fix typo causing PHP warning on IPv6 login (contributed by ppascher)</li><li>system: cron command drop down size was extending below screen</li><li>system: add a sysctl cache to improve tuneable overview load time</li><li>system: replace obsolete find_interface_network*() use in GUI</li><li>system: allow severity levels in PHP log messages and mark authentication success messages as notice</li><li>interfaces: fix default handling for VIP nobind option</li><li>interfaces: allow VIP nobind feature on CARP addresses</li><li>interfaces: stop mpd5 daemon before starting</li><li>interfaces: always show interface in GIF and GRE overview even on VIP use</li><li>interfaces: fix GIF and GRE VIP use loading order in IP alias cases</li><li>interfaces: remove device creation side effect from bridge, LAGG, GIF, GRE and VLAN GUI pages</li><li>interfaces: prevent DHCP from installing name servers when not allowed</li><li>interfaces: get_interface_list() must exclude OpenVPN</li><li>interfaces: replace obsolete find_interface_network*() use in GUI</li><li>firewall: remove ruleset optimization support which did not work since rule labels are mandatory for live log</li><li>firewall: exclude external alias for nesting</li><li>firewall: encode rules names in aliases (contributed by kulikov-a)</li><li>firewall: check state before selecting categories (contributed by kulikov-a)</li><li>firewall: synchronise "disabled" flag on linked firewall rule of port forward</li><li>firewall: local file corruption might prevent alias to be loaded</li><li>firewall: default pass all loopback without state tracking</li><li>dhcp: change prefix watcher to work without circular logging now that it is gone</li><li>dhcp: replace obsolete find_interface_network*() use in GUI</li><li>dhcp: fix implode() call (contributed by Clement Moulin)</li><li>ipsec: replace obsolete find_interface_network*() use in GUI</li><li>firmware: opnsense-version: support reading lock files operated by opnsense-update</li><li>firmware: patch version / date header in consistently for backend scripts</li><li>mvc: overload __isset() magic method</li><li>plugins: os-bind 1.21[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.1/dns/bind/pkg-descr">1</a>]</li><li>plugins: os-ddclient 1.1[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.1/dns/ddclient/pkg-descr">2</a>]</li><li>plugins: os-dnscrypt-proxy 1.11[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.1/dns/dnscrypt-proxy/pkg-descr">3</a>]</li><li>plugins: os-dyndns menu compatibility with os-ddclient</li><li>plugins: os-frr 1.27[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.1/net/frr/pkg-descr">4</a>]</li><li>plugins: os-mdns-repeater 1.1[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.1/net/mdns-repeater/pkg-descr">5</a>]</li><li>plugins: os-rspamd 1.12[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.1/mail/rspamd/pkg-descr">6</a>]</li><li>plugins: os-zabbix-agent 1.11[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/22.1/net-mgmt/zabbix-agent/pkg-descr">7</a>]</li><li>src: pf: set_prio was not set after nvlist conversion</li><li>src: if_vtnet: Restore the ability to set promisc mode</li><li>src: hn: disable Hyper-V vSwitch RSC support</li><li>ports: curl 7.81.0[<a target="_blank" href="https://curl.se/changes.html#7_81_0">8</a>]</li><li>ports: expat 2.4.4[<a target="_blank" href="https://github.com/libexpat/libexpat/blob/R_2_4_4/expat/Changes">9</a>]</li><li>ports: lighttpd 1.4.64[<a target="_blank" href="https://www.lighttpd.net/2022/1/19/1.4.64/">10</a>]</li><li>ports: monit 5.30.0[<a target="_blank" href="https://mmonit.com/monit/changes/">11</a>]</li><li>ports: nss 3.75[<a target="_blank" href="https://firefox-source-docs.mozilla.org/security/nss/releases/nss_3_75.html">12</a>]</li><li>ports: pcre / pcre2 enable JIT support</li><li>ports: phpseclib 2.0.36[<a target="_blank" href="https://github.com/phpseclib/phpseclib/releases/tag/2.0.36">13</a>]</li><li>ports: strongswan 5.9.5[<a target="_blank" href="https://github.com/strongswan/strongswan/releases/tag/5.9.5">14</a>]</li><li>ports: sudo 1.9.9[<a target="_blank" href="https://www.sudo.ws/stable.html#1.9.9">15</a>]</li></ul></p><p>A hotfix release was issued as 22.1.1_1:</p><p><ul><li>interfaces: revert "prevent DHCP from installing name servers when not allowed"</li></ul></p><p>A hotfix release was issued as 22.1.1_3:</p><p><ul><li>interfaces: revert "get_interface_list() must exclude OpenVPN"</li><li>web proxy: fix a typo in extended logging parser (contributed by kulikov-a)</li></ul></p><p><br>Stay safe,<br> Your OPNsense team</p>