<p>Good day everyone,</p><p>This is mainly a security and reliablility update.  There are several FreeBSD security advisories and updates for third party tools such as curl.</p><p>The historic bsdinstaller has been replaced by a scriptable alternative based on the readily available bsdinstall bundled with the base system. And, yes, this brings ZFS installer support into the upcoming 21.7 release.</p><p>On the development side the migration to Phalcon 4 framework is now underway and brings improved UI/API responsiveness.  One of the remaining road map goals is the migration to PHP 7.4 which can be carried out after said framework update is complete and released.</p><p>Here are the full patch notes:</p><p><ul><li>system: return authentication errors for RADIUS also</li><li>system: better logic for serial console options -h and -D</li><li>system: reorder loader.conf settings to let tunables override all</li><li>system: lighttpd include directory for configuration (contributed by Greelan)</li><li>system: remove /dev/crypto GUI support</li><li>system: add route address family return on dynamic gateway</li><li>system: allow CPU temperature display in Fahrenheit in widget (contributed by Team Rebellion)</li><li>system: performance enhancement for local_sync_accounts()</li><li>system: move extensions out of a certificate DN (contributed by kulikov-a)</li><li>interfaces: treat deprecated addresses as non-primary</li><li>interfaces: improve guess_interface_from_ip() (contributed by vnxme)</li><li>firewall: resolve IP addresses in kernel for force gateway rule</li><li>firewall: use tables in the shaper to avoid breaking ipfw with too many addresses</li><li>firewall: clarify help text for firewall rules traffic direction (contributed by Greelan)</li><li>firewall: sticky filter-rule-association setting for none/pass on copied items</li><li>firewall: copy and paste for alias content (contributed by kulikov-a)</li><li>firewall: improve loopack visibility</li><li>reporting: format 24 hour timestamps in traffic graphs and widget</li><li>dhcp: add dhcpd_staticmap() and fix DHCPv6 leases page with it</li><li>dhcp: add "none" option to gateway setting of static mappings</li><li>firmware: fix bug with subscription read from mirror URL</li><li>firmware: separate update error for "forbidden"</li><li>firmware: update error if upstream core package is missing yet installed</li><li>installer: migrate to scripted solution using bsdinstall</li><li>ipsec: validation to prevent saving of route-based tunnels with "install policy" set</li><li>unbound: prefer domain list over host file format (contributed by Gareth Owen)</li><li>rc: attempt to create /tmp if it does not exist</li><li>rc: add opensolaris module load for ZFS</li><li>rc: reverse list on stop action</li><li>ui: prevent autocomplete in the quick navigation</li><li>plugins: os-bind 1.17[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/21.1/dns/bind/pkg-descr">1</a>]</li><li>plugins: os-chrony 1.2[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/21.1/net/chrony/pkg-descr">2</a>]</li><li>plugins: os-debug 1.4 changes debugging profile to new version</li><li>plugins: os-freeradius 1.9.11[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/21.1/net/freeradius/pkg-descr">3</a>]</li><li>plugins: os-haproxy 3.2[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/21.1/net/haproxy/pkg-descr">4</a>]</li><li>plugins: os-intrusion-detection-content-et-open 1.0</li><li>plugins: os-maltrail 1.7[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/21.1/security/maltrail/pkg-descr">5</a>]</li><li>plugins: os-netdata 1.1[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/21.1/net-mgmt/netdata/pkg-descr">6</a>]</li><li>plugins: os-nginx 1.22[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/21.1/www/nginx/pkg-descr">7</a>]</li><li>plugins: os-smart 2.2 JSON conversion (contributed by Arnav Singh)</li><li>plugins: os-telegraf 1.10.0[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/21.1/net-mgmt/telegraf/pkg-descr">8</a>]</li><li>plugins: os-theme-rebellion 1.8.7 (contributed by Team Rebellion)</li><li>plugins: os-wireguard 1.6[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/21.1/net/wireguard/pkg-descr">9</a>]</li><li>plugins: os-zabbix5-proxy 1.4[<a target="_blank" href="https://github.com/opnsense/plugins/blob/stable/21.1/net-mgmt/zabbix5-proxy/pkg-descr">10</a>]</li><li>src: axgbe: enable receive all mode to bypass the MAC filter to avoid dropping CARP MAC addresses</li><li>src: accept_filter: fix filter parameter handling[<a target="_blank" href="https://www.freebsd.org/security/advisories/FreeBSD-SA-21:09.accept_filter.asc">11</a>]</li><li>src: vm_fault: shoot down multiply mapped COW source page mappings[<a target="_blank" href="https://www.freebsd.org/security/advisories/FreeBSD-SA-21:08.vm.asc">12</a>]</li><li>src: mount: disallow mounting over a jail root[<a target="_blank" href="https://www.freebsd.org/security/advisories/FreeBSD-SA-21:10.jail_mount.asc">13</a>]</li><li>src: em: add support for Intel I219 V10 device</li><li>src: em: fix a null de-reference in em_free_pci_resources</li><li>src: bsdinstall: switch to OPNsense branding</li><li>ports: curl 7.76.0[<a target="_blank" href="https://curl.se/changes.html#7_76_0">14</a>]</li><li>ports: dnsmasq 2.85[<a target="_blank" href="https://www.thekelleys.org.uk/dnsmasq/CHANGELOG">15</a>]</li><li>ports: expat 2.3.0</li><li>ports: hyperscan 5.4.0[<a target="_blank" href="https://github.com/intel/hyperscan/releases/tag/v5.4.0">16</a>]</li><li>ports: monit 5.28.0[<a target="_blank" href="https://mmonit.com/monit/changes/">17</a>]</li><li>ports: nettle 3.7.2</li><li>ports: phpseclib 2.0.31[<a target="_blank" href="https://github.com/phpseclib/phpseclib/releases/tag/2.0.31">18</a>]</li><li>ports: pkg 1.16.3</li></ul></p><p><br>Stay safe,<br> Your OPNsense team</p>